.cookie-3d-container {
    position: relative;
    width: 200px;
    /* Adjusted size for image */
    height: 200px;
    cursor: pointer;
    perspective: 800px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.cookie-3d-container:hover {
    transform: translateY(-5px);
}

.cookie-half {
    position: absolute;
    width: 100px;
    /* Half of the container width */
    height: 200px;
    top: 0;
    transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s;
    overflow: hidden;
    /* Important for clipping */
}

.left-half {
    left: 0;
    z-index: 2;
    transform-origin: 100% 50%;
    /* Pivot from center */
}

.right-half {
    right: 0;
    z-index: 2;
    transform-origin: 0% 50%;
    /* Pivot from center */
}

/* 
 * The image container holds the full image but is placed inside the half-width .cookie-half
 * We position the image to show only the relevant part.
 */
.cookie-img-container {
    width: 200px;
    /* Full width */
    height: 200px;
    position: absolute;
    top: 0;
}

.cookie-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* Remove background if it's not transparent (simple attempt) */
    /* mix-blend-mode: multiply; */
}

/* Left half shows left side of image */
.cookie-img-container.left {
    left: 0;
}

/* Right half shows right side of image */
.cookie-img-container.right {
    left: -100px;
    /* Shift image left by half width to show the right part */
}

/* Animation States */
.open .left-half {
    transform: translateX(-30px) rotate(-15deg);
    /* Keep it visible as requested "Maintain broken cookie" or hide? 
       In the game view, they usually split and disappear or split and stay.
       The user asked for result view to have them. I will animate them out gently or keep them.
       Let's split them clearly.
    */
    opacity: 0;
    /* Fade out in the choosing screen, as the result screen takes over */
}

.open .right-half {
    transform: translateX(30px) rotate(15deg);
    opacity: 0;
}

.shadow {
    position: absolute;
    width: 120px;
    height: 20px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    bottom: 20px;
    left: 40px;
    filter: blur(8px);
    transition: all 0.3s;
    z-index: 1;
}

.cookie-3d-container:hover .shadow {
    transform: scale(0.9);
    opacity: 0.15;
}

/* Crumbs */
.crumb {
    position: absolute;
    width: 6px;
    height: 6px;
    background: #d97706;
    border-radius: 2px;
    opacity: 0;
}

.open .c1 {
    bottom: 40px;
    left: 60px;
    animation: flyOut 0.5s forwards 0.1s;
}

.open .c2 {
    bottom: 50px;
    left: 80px;
    animation: flyOut 0.5s forwards 0.0s;
}

@keyframes flyOut {
    0% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }

    100% {
        transform: translateY(40px) rotate(180deg) scale(0);
        opacity: 0;
    }
}